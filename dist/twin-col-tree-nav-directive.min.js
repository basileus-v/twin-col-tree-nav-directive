/**
 * twin-col-tree-nav-directive
 * @version v0.0.1 - 2014-04-24
 * @link https://github.com/joelbinn/twin-col-tree-nav-directive
 * @author Joel Binnquist <joel.binnquist@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("twinColTreeNav",[]).directive("twinColTreeNav",function(){var a='<div class="twin-col-tree-nav">  <!-- Bread crumb -->  <div class="bread-crumb">    <span ng-repeat="elem in breadCrumb" class="bread-crumb-elem">      <a href="" ng-click="selectBreadCrumbElement(elem)">        {{elem.name}}<span ng-if="hasChildren(elem)"> &#9658;</span>      </a>    </span>  </div>  <hr>  <!-- twin col -->  <div class="twin-cols">    <!-- Left -->    <div class="left-column">      <div class="list-item" ng-repeat="root in currentRoots">        <a href="" ng-click="selectRoot(root)" ng-class="{selectedtreenode: isSelected(root)}">          {{root.name}}          <span class="child-pointer" ng-if="hasChildren(root)"> &#9658;</span>        </a>      </div>    </div>    <!-- Right -->    <div class="right-column">      <div class="list-item" ng-repeat="child in childrenOfSelectedRoot">        <a href="" ng-click="selectChild(child, childrenOfSelectedRoot)">          {{child.name}}          <span class="child-pointer" ng-if="hasChildren(child)"> &#9658;</span>        </a>      </div>    </div>  </div></div>';return{template:a,restrict:"EA",scope:{treeHandle:"="},controller:["$scope",function(a){function b(){var b=a.treeHandle.getChildren(),c=b&&b.length>0&&b[0];a.selectChild(c,b)}function c(a,b){if(!a)return void 0;for(var c=0;c<a.length;c++)if(a[c]===b)return c>0&&a[c-1]||void 0}function d(a,b,c,d){var e=[];if(!d){if(c){for(var f=0;f<a.length;f++)e.push(a[f]);return e.push(b),e}for(var f=0;f<a.length;f++)e.push(a[f]);return e.pop(),e.push(b),e}for(var f=0;f<a.length;f++)if(e.push(a[f]),a[f]===b)return e}a.treeHandle.atSelectTreeNode=a.treeHandle.atSelectTreeNode||function(){},a.treeHandle.getChildren=a.treeHandle.getChildren||function(){return[]},a.treeHandle.hasChildren=a.treeHandle.hasChildren||function(){return!1},a.treeHandle.atTreeUpdate=function(){b()},a.currentRoots=a.treeHandle.getChildren(),a.childrenOfSelectedRoot=[],a.breadCrumb=[],a.isSelected=function(b){return a.selectedTreeRoot.name===b.name},a.hasChildren=function(b){return a.treeHandle.hasChildren(b)},a.selectBreadCrumbElement=function(b){var d=a.treeHandle.getChildren(c(a.breadCrumb,b));a.selectChild(b,d,!0)},a.selectRoot=function(b,c,e){a.selectedTreeRoot=b,a.breadCrumb=d(a.breadCrumb,b,c,e),a.childrenOfSelectedRoot=a.treeHandle.getChildren(b),a.treeHandle.atSelectTreeNode(b)},a.selectChild=function(b,c,d){a.hasChildren(b)&&(a.currentRoots=c,a.selectRoot(b,!0,d)),a.treeHandle.atSelectTreeNode(b)},b()}],link:function(){}}});